# 옽싹 플랫폼 - 비개발자 실행 체크리스트

## ✅ STEP 1: 계정 생성 및 API 키 발급 (30분)

### 1-1. Supabase 가입
- [ ] https://supabase.com 접속
- [ ] "Start your project" 클릭
- [ ] GitHub 계정으로 로그인
- [ ] "New Project" 클릭
- [ ] 프로젝트명: `otsak-db`
- [ ] Database Password 설정 (꼭 메모!)
- [ ] Region: `Northeast Asia (Seoul)` 선택
- [ ] 5분 대기 (프로젝트 생성 중)
- [ ] 완료 후 좌측 Settings > API 메뉴에서 아래 2개 복사:
  - `Project URL`: https://xxxx.supabase.co
  - `anon public key`: eyJhbGci...

### 1-2. YouTube API 키 발급
- [ ] https://console.cloud.google.com 접속
- [ ] 새 프로젝트 생성: "otsak-youtube"
- [ ] 좌측 메뉴 "API 및 서비스" > "라이브러리"
- [ ] "YouTube Data API v3" 검색 후 사용 설정
- [ ] "사용자 인증 정보" > "사용자 인증 정보 만들기" > "API 키"
- [ ] API 키 복사 (예: AIzaSy...)

### 1-3. TMDB API 키 발급
- [ ] https://www.themoviedb.org 접속
- [ ] 회원가입 (무료)
- [ ] Settings > API > "Request an API Key" 클릭
- [ ] 용도: "Personal / Educational"
- [ ] API Key (v3 auth) 복사

### 1-4. Vercel 가입
- [ ] https://vercel.com 접속
- [ ] GitHub 계정으로 로그인
- [ ] (나중에 배포 시 사용)

---

## ✅ STEP 2: 컴퓨터에 개발 환경 설치 (20분)

### 2-1. Node.js 설치 (없는 경우만)
- [ ] https://nodejs.org 접속
- [ ] LTS 버전 다운로드 (예: 20.x.x)
- [ ] 설치 후 터미널/PowerShell 열어서 확인:
```bash
node --version    # v20.x.x 같은 버전 표시되면 성공
```

### 2-2. VSCode 설치 (코드 편집기)
- [ ] https://code.visualstudio.com 다운로드
- [ ] 설치 완료

---

## ✅ STEP 3: 프로젝트 설치 및 실행 (10분)

### 3-1. 터미널에서 프로젝트 생성
```bash
# 원하는 폴더로 이동 (예: 문서 폴더)
cd ~/Documents

# Next.js 프로젝트 생성 (질문 나오면 모두 Enter/Yes)
npx create-next-app@latest otsak --typescript --tailwind --app

# 프로젝트 폴더로 이동
cd otsak

# VSCode로 폴더 열기
code .
```

### 3-2. 필수 패키지 설치
VSCode 터미널에서 실행 (Ctrl+` 또는 View > Terminal):
```bash
npm install @supabase/supabase-js @supabase/ssr
```

### 3-3. 환경변수 파일 생성
- [ ] VSCode에서 프로젝트 루트에 `.env.local` 파일 생성
- [ ] 아래 내용 복사 후 본인 키로 교체:

```env
# Supabase (Step 1-1에서 복사한 값)
NEXT_PUBLIC_SUPABASE_URL=https://xxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGci...

# YouTube API (Step 1-2에서 복사한 값)
YOUTUBE_API_KEY=AIzaSy...

# TMDB API (Step 1-3에서 복사한 값)
TMDB_API_KEY=abc123...

# Cron 인증키 (아무 문자열로 직접 작성)
CRON_SECRET=my-secret-key-2024-change-this
```

---

## ✅ STEP 4: 데이터베이스 초기화 (5분)

### 4-1. SQL 실행
- [ ] Supabase 대시보드 접속: https://app.supabase.com
- [ ] 본인 프로젝트 클릭
- [ ] 좌측 "SQL Editor" 메뉴 클릭
- [ ] "New query" 버튼
- [ ] 제공받은 `001_initial.sql` 파일 내용 전체 복사
- [ ] 붙여넣기 후 **"Run"** 버튼 클릭
- [ ] 성공 메시지 확인

### 4-2. 테이블 확인
- [ ] 좌측 "Table Editor" 메뉴
- [ ] works, videos, pending_videos 테이블 보이면 성공 ✅

---

## ✅ STEP 5: 코드 파일 추가 (20분)

### 5-1. 폴더 구조 만들기
VSCode에서 아래 폴더들 생성:
```
otsak/
├── lib/
│   ├── supabase/
│   ├── youtube/
│   └── matching/
├── app/
│   └── api/
│       └── cron/
│           └── sync-videos/
```

### 5-2. 제공받은 코드 파일 복사
- [ ] `lib/supabase/server.ts` ← 제공받은 파일 내용 복사
- [ ] `lib/youtube/fetchVideos.ts` ← youtube-and-matching.ts 앞부분
- [ ] `lib/matching/fuzzyMatch.ts` ← youtube-and-matching.ts 뒷부분
- [ ] `app/api/cron/sync-videos/route.ts` ← cron-and-sitemap.ts 내용

### 5-3. vercel.json 파일 생성
프로젝트 루트에 `vercel.json` 파일 생성 후 아래 내용:
```json
{
  "crons": [
    {
      "path": "/api/cron/sync-videos",
      "schedule": "0 3 * * *"
    }
  ]
}
```

---

## ✅ STEP 6: 로컬 실행 테스트 (5분)

```bash
# 개발 서버 실행
npm run dev
```

- [ ] 브라우저에서 http://localhost:3000 접속
- [ ] Next.js 초기 화면 보이면 성공! 🎉

---

## ✅ STEP 7: 작품 데이터 등록 (수동, 반복 작업)

### 방법 1: Supabase 대시보드에서 직접 입력
- [ ] Table Editor > works 테이블
- [ ] "Insert row" 버튼
- [ ] 필드 입력:
  - slug: `moving` (URL용, 영문 소문자)
  - title: `무빙`
  - title_en: `Moving`
  - type: `series`
  - genre: `{"액션","드라마"}` (배열 형식)
  - platform: `{"Disney+"}` (배열 형식)
  - release_date: `2023-08-09`
  - rating: `8.5`
- [ ] Save

### 방법 2: TMDB API 자동 수집 스크립트 작성 (선택)
이건 나중에 개발자 도움 받아서 추가 가능

---

## ✅ STEP 8: YouTube 영상 수집 테스트 (수동)

### 8-1. Cron Job 직접 호출
브라우저 또는 Postman에서:
```
GET http://localhost:3000/api/cron/sync-videos
Header: Authorization: Bearer my-secret-key-2024-change-this
```

- [ ] 응답으로 `{ synced: 3, pending: 1, ... }` 같은 결과 확인
- [ ] Supabase에서 videos 테이블에 영상 추가되었는지 확인

---

## ✅ STEP 9: UI 페이지 만들기 (직접 코딩 필요!)

**여기서부터는 React/Next.js 코딩이 필요합니다.**

최소한 만들어야 할 페이지:
- [ ] 홈 페이지 (`app/page.tsx`)
- [ ] 작품 목록 페이지 (`app/works/page.tsx`)
- [ ] 작품 상세 페이지 (`app/works/[slug]/page.tsx`)
- [ ] 영상 허브 페이지 (`app/videos/page.tsx`)

각 페이지에서 Supabase 데이터를 불러와서 표시하는 코드 작성 필요.

👉 **이 부분은 제가 추가로 도와드릴 수 있습니다!**

---

## ✅ STEP 10: Vercel 배포 (10분)

### 10-1. GitHub에 코드 업로드
```bash
git init
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/본인계정/otsak.git
git push -u origin main
```

### 10-2. Vercel 연결
- [ ] https://vercel.com 로그인
- [ ] "New Project" 클릭
- [ ] GitHub 저장소 선택: `otsak`
- [ ] Environment Variables에 `.env.local` 내용 전부 복사
- [ ] Deploy 버튼 클릭
- [ ] 5분 대기
- [ ] 배포 완료! → `https://otsak.vercel.app` 같은 URL 생성됨

---

## 🚨 자주 묻는 질문 (FAQ)

### Q1. "npm: command not found" 에러가 나요
→ Node.js를 설치하지 않았거나 터미널 재시작이 필요합니다.

### Q2. Supabase에서 "relation does not exist" 에러
→ SQL을 실행하지 않았습니다. STEP 4 다시 확인.

### Q3. YouTube API "quota exceeded" 에러
→ 일일 할당량(10,000 유닛) 초과. 내일 다시 시도하거나 유료 플랜 고려.

### Q4. 페이지가 안 보여요
→ UI 코드를 아직 작성하지 않았기 때문입니다. STEP 9 진행 필요.

---

## 📞 추가 도움이 필요한 부분

1. **UI 페이지 코드 작성** (React/Next.js)
2. **디자인 적용** (TailwindCSS)
3. **TMDB API 자동 수집 스크립트**
4. **관리자 페이지** (pending_videos 검토용)
5. **도메인 연결** (otsak.com 구매 후 Vercel 연결)

**이 중에서 어떤 부분을 먼저 도와드릴까요?**
